<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PASE Presentations - Supporting Anabolism Presentation Tool</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .amway-yellow {
            color: #FFCD00;
        }
        .amway-magenta {
            color: #E6007A;
        }
        .amway-dark {
            background-color: #003366;
        }
        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, #E6007A, transparent);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #003366 0%, #001a33 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        /* QR Code Modal Styles */
        #qrModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        #qrModal.active {
            display: flex;
        }
        #qrModalContent {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 90%;
            max-height: 90%;
        }
    </style>
</head>
<body class="gradient-bg text-white min-h-screen">
    <!-- QR Code Modal -->
    <div id="qrModal" aria-hidden="true" role="dialog" aria-label="Expanded QR Code">
        <div id="qrModalContent">
            <!-- Content injected via JS -->
        </div>
    </div>

    <!-- Header Navigation -->
    <header class="amway-dark shadow-lg sticky top-0 z-50" role="banner">
    <nav class="container mx-auto px-4 py-4" role="navigation" aria-label="Main navigation">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center space-x-4 mb-4 md:mb-0">
                <!-- Embedded QR Code -->
                <div id="headerQrCode" class="w-12 h-12 bg-white p-1 rounded-lg cursor-pointer hover:scale-110 transition-transform" title="Click to expand QR Code">
                    <a><img src="https://i.ibb.co/ksp5Jstg/frame.png" alt="frame" border="0"></a>
                </div>
                <h1 class="text-2xl font-bold amway-yellow">PASE Presentations</h1>
                <span class="text-sm text-gray-300">Supporting Anabolism</span>
            </div>
            <div class="flex flex-wrap justify-center md:justify-end space-x-2 md:space-x-6" role="menubar" aria-label="Navigation menu">
                <a href="#introduction" class="hover:amway-yellow transition-colors duration-200 border-b border-transparent hover:border-amway-yellow" role="menuitem" tabindex="0" aria-label="Go to Introduction section">Introduction</a>
                <a href="#anabolism-catabolism" class="hover:amway-yellow transition-colors duration-200 border-b border-transparent hover:border-amway-yellow" role="menuitem" tabindex="0" aria-label="Go to Anabolism/Catabolism section">Anabolism/Catabolism</a>
                <a href="#protein-eaa" class="hover:amway-yellow transition-colors duration-200 border-b border-transparent hover:border-amway-yellow" role="menuitem" tabindex="0" aria-label="Go to Protein & EAA section">Protein & EAA</a>
                <a href="#magnesium-sleep" class="hover:amway-yellow transition-colors duration-200 border-b border-transparent hover:border-amway-yellow" role="menuitem" tabindex="0" aria-label="Go to Magnesium & Sleep section">Magnesium & Sleep</a>
                <a href="#products" class="hover:amway-yellow transition-colors duration-200 border-b border-transparent hover:border-amway-yellow" role="menuitem" tabindex="0" aria-label="Go to Products section">Products</a>
                <a href="#ai-assistant" class="hover:amway-yellow transition-colors duration-200 border-b border-transparent hover:border-amway-yellow" role="menuitem" tabindex="0" aria-label="Go to AI Assistant section">AI Assistant</a>
            </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8" role="main">
        
        <!-- Introduction Section -->
        <section id="introduction" class="mb-16" aria-labelledby="intro-heading">
            <h2 id="intro-heading" class="text-4xl md:text-5xl font-bold mb-6 amway-yellow">Understanding Anabolism for Optimal Health</h2>
            <div class="text-center mb-12">
                <p class="text-xl text-gray-200 max-w-4xl mx-auto leading-relaxed">
                    Discover how to maintain the delicate balance between anabolism (building) and catabolism (breaking down)
                    to support your health, recovery, and performance as an Amway Independent Business Owner.
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h3 class="text-2xl font-semibold mb-4 amway-magenta">What is Anabolism?</h3>
                    <p class="text-gray-200 mb-4 leading-relaxed">
                        Anabolism is the process of building complex molecules from simpler ones, requiring energy.
                        It's essential for muscle growth, tissue repair, and maintaining cellular health.
                    </p>
                    <p class="text-gray-200 leading-relaxed">
                        As an IBO, understanding anabolism helps you explain to customers how proper nutrition
                        supports their body's natural building processes, leading to better health outcomes.
                    </p>
                </div>
                <div class="bg-blue-900/20 p-6 rounded-lg border border-blue-700/50">
                    <div class="relative h-64 w-full">
                        <canvas id="anabolismChart"></canvas>
                    </div>
                    <div class="mt-4 flex justify-center space-x-4">
                        <button id="increaseAnabolism" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">Increase Anabolism</button>
                        <button id="increaseCatabolism" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">Increase Catabolism</button>
                        <button id="resetBalance" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm">Reset</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Anabolism/Catabolism Balance Section -->
        <div class="section-divider mb-16"></div>
        
        <section id="anabolism-catabolism" class="mb-16" aria-labelledby="anabolism-heading">
            <h2 id="anabolism-heading" class="text-3xl md:text-4xl font-bold mb-8 text-center amway-yellow">The Anabolism-Catabolism Balance</h2>
            
            <div class="grid lg:grid-cols-3 gap-8 mb-12">
                <div class="card-hover bg-blue-900/20 p-6 rounded-lg border border-blue-700/50">
                    <h3 class="text-xl font-semibold mb-3 amway-magenta">Anabolism (Building)</h3>
                    <ul class="text-gray-200 space-y-2">
                        <li>‚Ä¢ Muscle protein synthesis</li>
                        <li>‚Ä¢ Tissue repair and growth</li>
                        <li>‚Ä¢ Energy storage</li>
                        <li>‚Ä¢ Cellular maintenance</li>
                    </ul>
                </div>
                
                <div class="card-hover bg-red-900/20 p-6 rounded-lg border border-red-700/50">
                    <h3 class="text-xl font-semibold mb-3 amway-magenta">Catabolism (Breaking Down)</h3>
                    <ul class="text-gray-200 space-y-2">
                        <li>‚Ä¢ Energy release</li>
                        <li>‚Ä¢ Waste removal</li>
                        <li>‚Ä¢ Cellular breakdown</li>
                        <li>‚Ä¢ Metabolic processes</li>
                    </ul>
                </div>
                
                <div class="card-hover bg-green-900/20 p-6 rounded-lg border border-green-700/50">
                    <h3 class="text-xl font-semibold mb-3 amway-magenta">Optimal Balance</h3>
                    <ul class="text-gray-200 space-y-2">
                        <li>‚Ä¢ Proper nutrition timing</li>
                        <li>‚Ä¢ Adequate protein intake</li>
                        <li>‚Ä¢ Quality sleep</li>
                        <li>‚Ä¢ Stress management</li>
                    </ul>
                </div>
            </div>
            
            <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                <h3 class="text-xl font-semibold mb-4 amway-yellow">Key Factors for Balance</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-semibold text-amway-magenta mb-2">Nutrition</h4>
                        <p class="text-gray-200">Proper intake of protein, essential amino acids, and supporting nutrients</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-amway-magenta mb-2">Recovery</h4>
                        <p class="text-gray-200">Adequate sleep and rest periods for optimal tissue repair</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-amway-magenta mb-2">Timing</h4>
                        <p class="text-gray-200">Strategic timing of nutrient intake around training and daily activities</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-amway-magenta mb-2">Lifestyle</h4>
                        <p class="text-gray-200">Stress management and overall wellness practices</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Protein & EAA Section -->
        <div class="section-divider mb-16"></div>
        
        <section id="protein-eaa" class="mb-16" aria-labelledby="protein-heading">
            <h2 id="protein-heading" class="text-3xl md:text-4xl font-bold mb-8 text-center amway-yellow">Protein and Essential Amino Acids</h2>
            
            <div class="grid lg:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-2xl font-semibold mb-4 amway-magenta">Why Protein Matters</h3>
                    <p class="text-gray-200 mb-4 leading-relaxed">
                        Protein is the building block of life. For optimal anabolism, your body needs adequate 
                        amounts of high-quality protein to support muscle protein synthesis and tissue repair.
                    </p>
                    <p class="text-gray-200 mb-4 leading-relaxed">
                        Essential amino acids (EAAs) cannot be produced by your body and must come from food. 
                        Complete proteins contain all nine EAAs necessary for optimal health.
                    </p>
                    
                    <div class="bg-gray-800/30 p-4 rounded-lg border border-gray-600/50 mt-4">
                        <h4 class="font-semibold text-amway-yellow mb-2">Recommended Daily Intake</h4>
                        <p class="text-gray-200">
                            1.2-2.0g of protein per kg of body weight for active individuals
                        </p>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-700/50">
                        <h4 class="font-semibold text-amway-magenta">Complete Proteins</h4>
                        <ul class="text-gray-200 mt-2 space-y-1">
                            <li>‚Ä¢ Animal sources (meat, fish, eggs, dairy)</li>
                            <li>‚Ä¢ Soy protein</li>
                            <li>‚Ä¢ Quinoa</li>
                            <li>‚Ä¢ Hemp seeds</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-900/20 p-4 rounded-lg border border-green-700/50">
                        <h4 class="font-semibold text-amway-magenta">Essential Amino Acids</h4>
                        <ul class="text-gray-200 mt-2 space-y-1">
                            <li>‚Ä¢ Histidine, Isoleucine, Leucine</li>
                            <li>‚Ä¢ Lysine, Methionine, Phenylalanine</li>
                            <li>‚Ä¢ Threonine, Tryptophan, Valine</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Protein/EAA Educational Content -->
            <div class="mt-12 bg-blue-900/20 p-6 rounded-lg border border-blue-700/50">
                <h3 class="text-2xl font-semibold mb-4 text-center amway-yellow">The Science Behind Protein & Anabolism</h3>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-xl font-semibold mb-3 amway-magenta">How Protein Stimulates Anabolism</h4>
                        <ul class="text-gray-200 space-y-2">
                            <li>‚Ä¢ Essential amino acids trigger mTOR pathway activation</li>
                            <li>‚Ä¢ Leucine specifically acts as an anabolic trigger</li>
                            <li>‚Ä¢ Complete amino acid profile supports optimal protein synthesis</li>
                            <li>‚Ä¢ High-quality proteins have better absorption rates</li>
                            <li>‚Ä¢ Timing protein intake enhances anabolic response</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-xl font-semibold mb-3 amway-magenta">Optimal Protein Utilization</h4>
                        <ul class="text-gray-200 space-y-2">
                            <li>‚Ä¢ Distribute protein intake throughout the day</li>
                            <li>‚Ä¢ Consume protein within 2-3 hours post-workout</li>
                            <li>‚Ä¢ Include 25-30g of high-quality protein per meal</li>
                            <li>‚Ä¢ Combine with carbohydrates for enhanced uptake</li>
                            <li>‚Ä¢ Consider leucine content for maximum anabolic effect</li>
                        </ul>
                    </div>
                
                <!-- Protein consumption calculator -->
                <div class="mt-6 p-4 bg-blue-800/30 rounded-lg">
                    <h4 class="text-lg font-semibold mb-3 amway-yellow">Calculate Your Protein Needs</h4>
                    <div class="grid md:grid-cols-3 gap-4 items-end">
                        <div>
                            <label for="bodyWeight" class="block text-sm font-medium text-gray-300 mb-1">Body Weight (lbs)</label>
                            <input type="number" id="bodyWeight" placeholder="Enter weight" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white">
                        </div>
                        <div>
                            <label for="activityLevel" class="block text-sm font-medium text-gray-300 mb-1">Activity Level</label>
                            <select id="activityLevel" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white">
                                <option value="1.2">Sedentary</option>
                                <option value="1.4" selected>Moderately Active</option>
                                <option value="1.6">Active</option>
                                <option value="1.8">Very Active</option>
                                <option value="2.0">Athlete</option>
                            </select>
                        </div>
                        <div>
                            <button id="calculateProtein" class="w-full bg-amway-yellow text-gray-900 hover:bg-yellow-400 font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                                Calculate
                            </button>
                        </div>
                    </div>
                    <div id="proteinResult" class="mt-3 text-center text-amway-yellow font-semibold hidden">Recommended daily protein: <span id="proteinAmount">0</span>g</div>
                </div>
            </div>
        </section>

        <!-- Magnesium & Sleep Section -->
        <div class="section-divider mb-16"></div>
        
        <section id="magnesium-sleep" class="mb-16" aria-labelledby="magnesium-heading">
            <h2 id="magnesium-heading" class="text-3xl md:text-4xl font-bold mb-8 text-center amway-yellow">Magnesium and Sleep Support</h2>
            
            <div class="grid lg:grid-cols-2 gap-8 items-center">
                <div>
                    <h3 class="text-2xl font-semibold mb-4 amway-magenta">The Sleep-Anabolism Connection</h3>
                    <p class="text-gray-200 mb-4 leading-relaxed">
                        Quality sleep is when your body's anabolic processes are most active. During deep sleep, 
                        growth hormone is released, and tissue repair occurs at an accelerated rate.
                    </p>
                    <p class="text-gray-200 leading-relaxed">
                        Magnesium plays a crucial role in sleep quality by helping to relax muscles and calm 
                        the nervous system, creating optimal conditions for recovery and anabolism.
                    </p>
                    
                    <div class="mt-6">
                        <button class="bg-amway-magenta hover:bg-pink-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200">
                            Learn More About Sleep Support
                        </button>
                    </div>
                </div>
                
                <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                    <h4 class="text-xl font-semibold mb-4 text-center amway-yellow">Sleep Benefits for Anabolism</h4>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-amway-yellow rounded-full"></div>
                            <span class="text-gray-200">Growth hormone release peaks during deep sleep</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-amway-yellow rounded-full"></div>
                            <span class="text-gray-200">Muscle protein synthesis increases during rest</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-amway-yellow rounded-full"></div>
                            <span class="text-gray-200">Cellular repair and regeneration accelerate</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-amway-yellow rounded-full"></div>
                            <span class="text-gray-200">Stress hormones decrease for optimal recovery</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Magnesium/Sleep Educational Content -->
            <div class="mt-12 bg-green-900/20 p-6 rounded-lg border border-green-700/50">
                <h3 class="text-2xl font-semibold mb-4 text-center amway-yellow">The Science Behind Magnesium & Sleep</h3>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-xl font-semibold mb-3 amway-magenta">How Magnesium Supports Sleep</h4>
                        <ul class="text-gray-200 space-y-2">
                            <li>‚Ä¢ Activates the parasympathetic nervous system</li>
                            <li>‚Ä¢ Regulates melatonin production for sleep-wake cycle</li>
                            <li>‚Ä¢ Binds to GABA receptors to calm the brain</li>
                            <li>‚Ä¢ Reduces cortisol (stress hormone) levels</li>
                            <li>‚Ä¢ Promotes muscle relaxation for comfortable sleep</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-xl font-semibold mb-3 amway-magenta">Sleep's Role in Anabolism</h4>
                        <ul class="text-gray-200 space-y-2">
                            <li>‚Ä¢ Growth hormone peaks during deep sleep stages</li>
                            <li>‚Ä¢ Muscle protein synthesis increases during rest</li>
                            <li>‚Ä¢ Tissue repair and regeneration accelerate</li>
                            <li>‚Ä¢ Recovery from exercise stress occurs</li>
                            <li>‚Ä¢ Immune system strengthens</li>
                        </ul>
                    </div>
                
                <!-- Magnesium and sleep relationship diagram -->
                <div class="mt-8 p-4 bg-green-800/30 rounded-lg">
                    <h4 class="text-lg font-semibold mb-3 text-center amway-yellow">Magnesium-Sleep-Anabolism Cycle</h4>
                    <div class="flex flex-wrap justify-center items-center gap-4">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-2">
                                <span class="text-2xl">üåô</span>
                            </div>
                            <p class="text-sm text-gray-200">Better Sleep</p>
                        </div>
                        <div class="text-2xl text-amway-yellow">‚Üí</div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-2">
                                <span class="text-2xl">üí™</span>
                            </div>
                            <p class="text-sm text-gray-200">Anabolism</p>
                        </div>
                        <div class="text-2xl text-amway-yellow">‚Üí</div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-purple-60 rounded-full flex items-center justify-center mx-auto mb-2">
                                <span class="text-2xl">üíä</span>
                            </div>
                            <p class="text-sm text-gray-200">Magnesium</p>
                        </div>
                        <div class="text-2xl text-amway-yellow">‚Üí</div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-2">
                                <span class="text-2xl">üåô</span>
                            </div>
                            <p class="text-sm text-gray-200">Better Sleep</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Building Muscle, Losing Fat, Body Recomp Section -->
        <div class="section-divider mb-16"></div>
        
        <section id="body-composition" class="mb-16" aria-labelledby="body-composition-heading">
            <h2 id="body-composition-heading" class="text-3xl md:text-4xl font-bold mb-8 text-center amway-yellow">Building Muscle, Losing Fat, and Body Recomp</h2>
            
            <div class="grid md:grid-cols-3 gap-8 mb-12">
                <div class="card-hover bg-blue-900/20 p-6 rounded-lg border border-blue-700/50 text-center">
                    <div class="text-4xl mb-4">üí™</div>
                    <h3 class="text-xl font-semibold mb-3 amway-magenta">Building Muscle</h3>
                    <p class="text-gray-200 mb-4">
                        Anabolic process focused on increasing muscle mass through protein synthesis and resistance training.
                    </p>
                    <ul class="text-gray-200 text-sm space-y-1">
                        <li>‚Ä¢ High protein intake</li>
                        <li>‚Ä¢ Resistance training</li>
                        <li>‚Ä¢ Adequate recovery</li>
                        <li>‚Ä¢ Caloric surplus</li>
                    </ul>
                </div>
                
                <div class="card-hover bg-red-900/20 p-6 rounded-lg border border-red-700/50 text-center">
                    <div class="text-4xl mb-4">üî•</div>
                    <h3 class="text-xl font-semibold mb-3 amway-magenta">Losing Fat</h3>
                    <p class="text-gray-200 mb-4">
                        Catabolic process focused on reducing body fat through metabolic processes and energy expenditure.
                    </p>
                    <ul class="text-gray-200 text-sm space-y-1">
                        <li>‚Ä¢ Caloric deficit</li>
                        <li>‚Ä¢ Cardio exercise</li>
                        <li>‚Ä¢ Maintain muscle mass</li>
                        <li>‚Ä¢ Adequate protein</li>
                    </ul>
                </div>
                
                <div class="card-hover bg-green-900/20 p-6 rounded-lg border border-green-700/50 text-center">
                    <div class="text-4xl mb-4">‚öñÔ∏è</div>
                    <h3 class="text-xl font-semibold mb-3 amway-magenta">Body Recomp</h3>
                    <p class="text-gray-200 mb-4">
                        Simultaneous process of building muscle and losing fat through optimized nutrition and training.
                    </p>
                    <ul class="text-gray-200 text-sm space-y-1">
                        <li>‚Ä¢ Precise nutrition</li>
                        <li>‚Ä¢ Strategic training</li>
                        <li>‚Ä¢ Timing optimization</li>
                        <li>‚Ä¢ Consistency</li>
                    </ul>
                </div>
            </div>
            
            <!-- Interactive body composition visualization -->
            <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                <h3 class="text-xl font-semibold mb-4 text-center amway-yellow">Explore Body Composition Changes</h3>
                
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <div class="mb-4">
                            <label for="muscleSlider" class="block text-sm font-medium text-gray-300 mb-2">Muscle Mass: <span id="muscleValue">40%</span></label>
                            <input type="range" id="muscleSlider" min="20" max="60" value="40" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                        </div>
                        
                        <div class="mb-4">
                            <label for="fatSlider" class="block text-sm font-medium text-gray-300 mb-2">Body Fat: <span id="fatValue">15%</span></label>
                            <input type="range" id="fatSlider" min="5" max="35" value="15" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                        </div>
                        
                        <div class="mb-4">
                            <label for="recompSlider" class="block text-sm font-medium text-gray-300 mb-2">Recomp Phase: <span id="recompValue">Normal</span></label>
                            <input type="range" id="recompSlider" min="0" max="100" value="50" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                        </div>
                        
                        <div class="text-center">
                            <button id="resetComposition" class="bg-amway-magenta hover:bg-pink-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                                Reset to Normal
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex justify-center">
                        <div class="relative w-48 h-48">
                            <!-- SVG visualization of body composition -->
                            <svg width="192" height="192" viewBox="0 0 192 192" class="w-full h-full">
                                <!-- Background circle for body fat -->
                                <circle cx="96" cy="96" r="80" fill="#EF4444" opacity="0.3" id="fatCircle"/>
                                <!-- Inner circle for muscle mass -->
                                <circle cx="96" cy="96" r="60" fill="#3B82F6" opacity="0.6" id="muscleCircle"/>
                                <!-- Center for recomp visualization -->
                                <circle cx="96" cy="96" r="30" fill="#10B981" id="recompCenter"/>
                                <!-- Figure outline -->
                                <path d="M96 30 L110 60 L130 60 L130 90 L150 110 L130 130 L130 150 L110 160 L96 160 L82 160 L62 150 L62 130 L42 110 L62 90 L62 60 L82 60 Z" 
                                      fill="none" stroke="#FFCD00" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <div id="compositionResult" class="mt-6 p-4 bg-gray-700/50 rounded-lg text-center">
                    <p class="text-gray-200">Current composition: <span id="compositionText">40% Muscle, 15% Fat</span></p>
                    <p class="text-gray-300 text-sm mt-2">Adjust the sliders to see how anabolism and catabolism affect body composition</p>
                </div>
            </div>
        </section>
        <!-- Products Section -->
        <div class="section-divider mb-16"></div>
        
        <section id="products" class="mb-16" aria-labelledby="products-heading">
            <h2 id="products-heading" class="text-3xl md:text-4xl font-bold mb-8 text-center amway-yellow">Recommended Products</h2>
            
            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <!-- XS Whey Protein Detailed Card -->
                <div class="card-hover bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                    <div class="flex flex-col md:flex-row gap-6 items-center">
                        <div class="w-full md:w-1/3 flex flex-col items-center">
                            <h3 class="text-xl font-semibold mb-3 text-center amway-yellow">XS‚Ñ¢ Grass-fed Whey Protein</h3>
                            <div class="flex justify-center space-x-2 mb-4">
                                <img src="https://www.amway.com/medias/128154-en-US-480px-01?context=bWFzdGVyfGltYWdlc3wxNDc5Nzl8aW1hZ2UvcG5nfHN5cy1tYXN0ZXIvaW1hZ2VzL2hjZi9oNjEvOTk3MjUxMjcxODg3OC8xMjgxNTQtZW4tVVMtNDgwcHgtMDF8OGNlZWY0ZGRhMmUzZDdkYzExOWRiYzI2NjZkZjA5ZjRiNDFiNzFjZTQ3OWNhNTljMDE3ODNlMjZiODczMmYwNA" alt="XS Whey Chocolate" class="w-16 h-auto object-contain hover:scale-110 transition-transform">
                                <img src="https://www.amway.com/medias/128156-en-US-480px-01?context=bWFzdGVyfGltYWdlc3wxMzQxMTF8aW1hZ2UvcG5nfHN5cy1tYXN0ZXIvaW1hZ2VzL2gwNi9oNTQvOTk3MjUxNzYzNDA3OC8xMjgxNTYtZW4tVVMtNDgwcHgtMDF8YjUwMmY1NzJkNjk1NmMxMzY0ZTk1MzgyYjk0Zjc4OTcyMGNiOTM1ODUzN2YzMWY1MjY3YTJjNjE4ZGQ4OWJiZA" alt="XS Whey Vanilla" class="w-16 h-auto object-contain hover:scale-110 transition-transform">
                                <img src="https://www.amway.com/medias/128155-en-US-480px-01?context=bWFzdGVyfGltYWdlc3wxMzgzODF8aW1hZ2UvcG5nfHN5cy1tYXN0ZXIvaW1hZ2VzL2g3MC9oYzEvOTk3MjUxNjUxOTk2Ni8xMjgxNTUtZW4tVVMtNDgwcHgtMDF8MTY2OTJlMzViOTIyZmU2NDc0MTM5MDdmNzlhMjMzMTdkNjRlODE1YWNmYWYyOGVkNjNlYTFhNzExM2MxNGVjMA" alt="XS Whey Strawberry" class="w-16 h-auto object-contain hover:scale-110 transition-transform">
                            </div>
                            <div class="text-center">
                                <span class="inline-block bg-blue-600 text-white text-xs px-2 py-1 rounded-full mb-2">Item #: 128155</span>
                                <p class="text-amway-yellow font-bold">$58.00 <span class="text-gray-400 text-sm font-normal">(Retail)</span></p>
                                <p class="text-gray-300 text-sm">$52.20 <span class="text-gray-400 text-xs">(IBO Cost)</span></p>
                            </div>
                        </div>
                        <div class="w-full md:w-2/3">
                            <p class="text-gray-200 mb-4">
                                High-quality protein source with all essential amino acids to support muscle protein synthesis.
                                Sourced from grass-fed cows for superior quality and taste.
                            </p>
                            
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div class="bg-blue-900/20 p-3 rounded border border-blue-700/30">
                                    <span class="block text-2xl font-bold text-white">30g</span>
                                    <span class="text-xs text-gray-300">Protein</span>
                                </div>
                                <div class="bg-blue-900/20 p-3 rounded border border-blue-700/30">
                                    <span class="block text-2xl font-bold text-white">6.9g</span>
                                    <span class="text-xs text-gray-300">BCAAs</span>
                                </div>
                                <div class="bg-blue-900/20 p-3 rounded border border-blue-700/30">
                                    <span class="block text-2xl font-bold text-white">0</span>
                                    <span class="text-xs text-gray-300">Artificial Flavors</span>
                                </div>
                                <div class="bg-blue-900/20 p-3 rounded border border-blue-700/30">
                                    <span class="block text-2xl font-bold text-white">NSF</span>
                                    <span class="text-xs text-gray-300">Certified</span>
                                </div>
                            </div>
                            
                            <h4 class="font-semibold text-amway-magenta mb-2">Key Benefits:</h4>
                            <ul class="text-gray-200 space-y-1 text-sm">
                                <li>‚Ä¢ Supports lean muscle growth and recovery</li>
                                <li>‚Ä¢ Fast-absorbing whey isolate formula</li>
                                <li>‚Ä¢ Keto-friendly, gluten-free, and soy-free</li>
                                <li>‚Ä¢ Naturally sweetened with Stevia</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Nutrilite Magnesium Detailed Card -->
                <div class="card-hover bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                    <div class="flex flex-col md:flex-row gap-6 items-center">
                        <div class="w-full md:w-1/3 flex flex-col items-center">
                            <h3 class="text-xl font-semibold mb-3 text-center amway-yellow">Nutrilite‚Ñ¢ Magnesium</h3>
                            <div class="flex justify-center mb-4">
                                <img src="https://www.amway.com/medias/128032-en-US-480px-01?context=bWFzdGVyfGltYWdlc3wxNzE5MTF8aW1hZ2UvcG5nfHN5cy1tYXN0ZXIvaW1hZ2VzL2g5YS9oYWEvOTk5NDEwMzI5MTkzNC8xMjgwMzItZW4tVVMtNDgwcHgtMDF8NjIxYTM5ZmQ2NzBkYmI5NTllYzdmNTY3N2U2ZmQwMzQ5ZDFkYjAwZTk5Yzk3NTQ3M2RjMWQ1ZWQ0YzkxOGY3NQ" alt="Nutrilite Magnesium" class="h-32 w-auto object-contain hover:scale-105 transition-transform">
                            </div>
                            <div class="text-center">
                                <span class="inline-block bg-green-600 text-white text-xs px-2 py-1 rounded-full mb-2">Item #: 128032</span>
                                <p class="text-amway-yellow font-bold">$34.00 <span class="text-gray-400 text-sm font-normal">(Retail)</span></p>
                                <p class="text-gray-300 text-sm">$30.60 <span class="text-gray-400 text-xs">(IBO Cost)</span></p>
                            </div>
                        </div>
                        <div class="w-full md:w-2/3">
                            <p class="text-gray-200 mb-4">
                                Supports quality sleep and muscle recovery for optimal anabolic processes.
                                Features a triple-blend of magnesium sources for enhanced absorption.
                            </p>
                            
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div class="bg-green-900/20 p-3 rounded border border-green-700/30">
                                    <span class="block text-2xl font-bold text-white">200mg</span>
                                    <span class="text-xs text-gray-300">Magnesium</span>
                                </div>
                                <div class="bg-green-900/20 p-3 rounded border border-green-700/30">
                                    <span class="block text-2xl font-bold text-white">2x</span>
                                    <span class="text-xs text-gray-300">Better Absorption</span>
                                </div>
                                <div class="bg-green-900/20 p-3 rounded border border-green-700/30">
                                    <span class="block text-2xl font-bold text-white">3</span>
                                    <span class="text-xs text-gray-300">Magnesium Sources</span>
                                </div>
                                <div class="bg-green-900/20 p-3 rounded border border-green-700/30">
                                    <span class="block text-2xl font-bold text-white">NSF</span>
                                    <span class="text-xs text-gray-300">Certified</span>
                                </div>
                            </div>
                            
                            <h4 class="font-semibold text-amway-magenta mb-2">Key Benefits:</h4>
                            <ul class="text-gray-200 space-y-1 text-sm">
                                <li>‚Ä¢ Promotes relaxation and sleep quality</li>
                                <li>‚Ä¢ Supports muscle and nerve function</li>
                                <li>‚Ä¢ Gentle on the stomach (chelated form)</li>
                                <li>‚Ä¢ Vegan, gluten-free, dairy-free, non-GMO</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Product Comparison Table -->
            <div class="overflow-x-auto bg-gray-800/30 rounded-lg border border-gray-600/50 p-6">
                <h3 class="text-xl font-semibold mb-6 text-center amway-yellow">Why Choose Amway Products?</h3>
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr>
                            <th class="p-3 border-b border-gray-600 text-amway-magenta">Feature</th>
                            <th class="p-3 border-b border-gray-600 text-white font-bold">XS‚Ñ¢ Whey Protein</th>
                            <th class="p-3 border-b border-gray-600 text-white font-bold">Nutrilite‚Ñ¢ Magnesium</th>
                            <th class="p-3 border-b border-gray-600 text-gray-400">Typical Competitors</th>
                        </tr>
                    </thead>
                    <tbody class="text-sm text-gray-200">
                        <tr>
                            <td class="p-3 border-b border-gray-700 font-semibold">Source Quality</td>
                            <td class="p-3 border-b border-gray-700">Grass-fed, humanely raised</td>
                            <td class="p-3 border-b border-gray-700">3 natural marine sources</td>
                            <td class="p-3 border-b border-gray-700">Often grain-fed or synthetic</td>
                        </tr>
                        <tr>
                            <td class="p-3 border-b border-gray-700 font-semibold">Absorption</td>
                            <td class="p-3 border-b border-gray-700">Isolate (fast absorbing)</td>
                            <td class="p-3 border-b border-gray-700">Chelated (2x better absorption)</td>
                            <td class="p-3 border-b border-gray-700">Concentrate or Oxide (poor absorption)</td>
                        </tr>
                        <tr>
                            <td class="p-3 border-b border-gray-700 font-semibold">Clean Label</td>
                            <td class="p-3 border-b border-gray-700">No artificial colors/flavors</td>
                            <td class="p-3 border-b border-gray-700">Non-GMO, Vegan, Gluten-free</td>
                            <td class="p-3 border-b border-gray-700">Often contain fillers/additives</td>
                        </tr>
                        <tr>
                            <td class="p-3 border-b border-gray-700 font-semibold">Certification</td>
                            <td class="p-3 border-b border-gray-700">NSF Content Certified</td>
                            <td class="p-3 border-b border-gray-700">NSF, Kosher, Halal</td>
                            <td class="p-3 border-b border-gray-700">Self-certified or none</td>
                        </tr>
                        <tr>
                            <td class="p-3 border-b border-gray-700 font-semibold">Anabolic Role</td>
                            <td class="p-3 border-b border-gray-700">Stimulates muscle synthesis</td>
                            <td class="p-3 border-b border-gray-700">Optimizes recovery & sleep</td>
                            <td class="p-3 border-b border-gray-700">Varies by quality</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- AI Assistant Section -->
        <div class="section-divider mb-16"></div>
        
        <section id="ai-assistant" class="mb-16" aria-labelledby="ai-heading">
            <h2 id="ai-heading" class="text-3xl md:text-4xl font-bold mb-8 text-center amway-yellow">AI-Powered Sales Tools</h2>
            
            <!-- API Key Setup -->
            <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50 mb-8">
                <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                    <div class="flex-1 w-full">
                        <label for="apiKeyInput" class="block text-sm font-medium text-gray-300 mb-2">Google Gemini API Key Setup</label>
                        <div class="flex items-center space-x-3">
                            <input type="password" id="apiKeyInput" placeholder="Enter your Google Gemini API Key"
                                   class="flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-amway-yellow focus:border-transparent outline-none"
                                   aria-label="Google Gemini API Key">
                            <button id="saveApiKey" class="bg-amway-magenta hover:bg-pink-700 text-white px-6 py-2 rounded-lg transition-colors duration-200 font-semibold">
                                Save Key
                            </button>
                        </div>
                        <p class="text-xs text-gray-400 mt-2">
                            Your API key is stored securely in your browser's local storage and is never sent to our servers.
                            <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-amway-yellow hover:underline ml-1">Get a key here</a>
                        </p>
                    </div>
                    <div class="text-sm text-gray-300 bg-blue-900/20 p-4 rounded border border-blue-700/30 max-w-md">
                        <p><strong>Note:</strong> These AI features require a valid Google Gemini API key to function. The key enables the Recipe Generator and Sales Assistant tools below.</p>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Recipe Generator -->
                <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50 flex flex-col h-full">
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-3">üç≥</span>
                        <h3 class="text-xl font-semibold amway-yellow">Anabolic Recipe Generator</h3>
                    </div>
                    <p class="text-gray-200 mb-4 text-sm">
                        Generate high-protein recipes using XS Whey Protein based on available ingredients.
                    </p>
                    
                    <div class="space-y-4 flex-grow">
                        <div>
                            <label for="recipeIngredients" class="block text-sm font-medium text-gray-300 mb-2">Available Ingredients</label>
                            <textarea id="recipeIngredients" placeholder="E.g., banana, oats, peanut butter, almond milk..."
                                      class="w-full h-24 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 resize-none focus:ring-2 focus:ring-amway-yellow focus:border-transparent outline-none"></textarea>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <div class="flex-1">
                                <label for="recipeType" class="block text-sm font-medium text-gray-300 mb-2">Recipe Type</label>
                                <select id="recipeType" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amway-yellow focus:border-transparent outline-none">
                                    <option value="shake">Protein Shake</option>
                                    <option value="pancakes">Protein Pancakes</option>
                                    <option value="oats">Proats (Protein Oats)</option>
                                    <option value="snack">Protein Snack</option>
                                </select>
                            </div>
                            <button id="generateRecipeBtn" class="mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors duration-200 h-10 flex items-center">
                                Generate
                            </button>
                        </div>
                        
                        <div id="recipeResult" class="mt-4 p-4 bg-gray-700/50 rounded-lg border border-gray-600/50 hidden">
                            <h4 class="font-semibold text-amway-yellow mb-2">Suggested Recipe:</h4>
                            <div id="recipeContent" class="text-gray-200 text-sm whitespace-pre-line"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Sales Assistant -->
                <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50 flex flex-col h-full">
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-3">üíº</span>
                        <h3 class="text-xl font-semibold amway-yellow">AI Sales Assistant</h3>
                    </div>
                    <p class="text-gray-200 mb-4 text-sm">
                        Get tailored sales pitches and conversation starters based on your customer's profile.
                    </p>
                    
                    <div class="space-y-4 flex-grow">
                        <div>
                            <label for="customerDesc" class="block text-sm font-medium text-gray-300 mb-2">Customer Description</label>
                            <textarea id="customerDesc" placeholder="E.g., 45-year-old busy mom looking to lose weight and have more energy..."
                                      class="w-full h-24 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 resize-none focus:ring-2 focus:ring-amway-yellow focus:border-transparent outline-none"></textarea>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <div class="flex-1">
                                <label for="pitchFocus" class="block text-sm font-medium text-gray-300 mb-2">Focus Area</label>
                                <select id="pitchFocus" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-amway-yellow focus:border-transparent outline-none">
                                    <option value="benefits">Key Benefits</option>
                                    <option value="objections">Handling Objections</option>
                                    <option value="closing">Closing the Sale</option>
                                    <option value="science">Scientific Explanation</option>
                                </select>
                            </div>
                            <button id="generatePitchBtn" class="mt-6 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors duration-200 h-10 flex items-center">
                                Generate
                            </button>
                        </div>
                        
                        <div id="pitchResult" class="mt-4 p-4 bg-gray-700/50 rounded-lg border border-gray-600/50 hidden">
                            <h4 class="font-semibold text-amway-yellow mb-2">Sales Guidance:</h4>
                            <div id="pitchContent" class="text-gray-200 text-sm whitespace-pre-line"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Customer Persona Selector -->
            <div class="mt-8 bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                <h3 class="text-xl font-semibold mb-6 text-center amway-yellow">Customer Persona Scripts</h3>
                
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button class="persona-btn active bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-full border border-gray-500 transition-all duration-200" data-persona="athlete">
                        üèãÔ∏è The Athlete
                    </button>
                    <button class="persona-btn bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-full border border-gray-500 transition-all duration-200" data-persona="weight-loss">
                        ‚öñÔ∏è Weight Management
                    </button>
                    <button class="persona-btn bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-full border border-gray-500 transition-all duration-200" data-persona="busy-pro">
                        üíº Busy Professional
                    </button>
                    <button class="persona-btn bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-full border border-gray-500 transition-all duration-200" data-persona="healthy-aging">
                        üë¥ Healthy Aging
                    </button>
                </div>
                
                <div id="personaContent" class="bg-gray-900/50 p-6 rounded-lg border border-gray-700">
                    <!-- Content injected via JS -->
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="text-lg font-semibold amway-magenta mb-3">Qualifying Questions</h4>
                            <ul class="space-y-2 text-gray-300 text-sm list-disc pl-5">
                                <li>"How is your current recovery after workouts?"</li>
                                <li>"Are you hitting your daily protein targets?"</li>
                                <li>"Do you struggle with muscle soreness or sleep?"</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold amway-magenta mb-3">Key Talking Points</h4>
                            <ul class="space-y-2 text-gray-300 text-sm list-disc pl-5">
                                <li>"XS Whey provides 30g of fast-absorbing protein for immediate recovery."</li>
                                <li>"Magnesium supports muscle relaxation and better sleep for growth."</li>
                                <li>"NSF Certified for Sport ensures clean, safe ingredients."</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Objection Handling & Action Plan -->
            <div class="grid md:grid-cols-2 gap-8 mt-8">
                <!-- Objection Handling -->
                <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                    <h3 class="text-xl font-semibold mb-4 amway-yellow">Handling Common Objections</h3>
                    <div class="space-y-3">
                        <details class="group bg-gray-700/30 rounded-lg border border-gray-600/30">
                            <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-gray-200 hover:text-amway-yellow transition-colors">
                                <span>"It's too expensive"</span>
                                <span class="transition group-open:rotate-180">
                                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-gray-300 text-sm p-3 pt-0 leading-relaxed">
                                Break down the cost per serving ($2.61 for protein). Compare it to a coffee or fast food meal. Emphasize the value of 30g high-quality isolate vs. cheaper concentrates.
                            </div>
                        </details>
                        <details class="group bg-gray-700/30 rounded-lg border border-gray-600/30">
                            <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-gray-200 hover:text-amway-yellow transition-colors">
                                <span>"I already take a multivitamin"</span>
                                <span class="transition group-open:rotate-180">
                                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-gray-300 text-sm p-3 pt-0 leading-relaxed">
                                Most multis don't contain enough magnesium (bulky mineral). Explain that 200mg is hard to fit in a multi. This specific form is for targeted sleep/muscle support.
                            </div>
                        </details>
                        <details class="group bg-gray-700/30 rounded-lg border border-gray-600/30">
                            <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-gray-200 hover:text-amway-yellow transition-colors">
                                <span>"I get enough protein from food"</span>
                                <span class="transition group-open:rotate-180">
                                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-gray-300 text-sm p-3 pt-0 leading-relaxed">
                                Validate their diet, but highlight the convenience and absorption speed of whey isolate post-workout. It's about timing and efficiency, not just total amount.
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Sales Action Plan -->
                <div class="bg-gray-800/30 p-6 rounded-lg border border-gray-600/50">
                    <h3 class="text-xl font-semibold mb-4 amway-yellow">Sales Action Plan</h3>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <div class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold">1</div>
                            <div>
                                <h4 class="font-semibold text-white">Assess Needs</h4>
                                <p class="text-sm text-gray-300">Ask about their fitness goals, recovery, and sleep quality. Use the persona questions.</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <div class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold">2</div>
                            <div>
                                <h4 class="font-semibold text-white">Educate & Solution</h4>
                                <p class="text-sm text-gray-300">Show the Anabolism chart. Explain how Protein builds and Magnesium recovers. Present the bundle.</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <div class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold">3</div>
                            <div>
                                <h4 class="font-semibold text-white">Close & Follow-up</h4>
                                <p class="text-sm text-gray-300">Offer to set up a MyShop cart. Schedule a check-in for 3 days after they receive products.</p>
                            </div>
                        </div>
                        
                        <div class="mt-6 pt-4 border-t border-gray-600/50">
                            <button class="w-full bg-amway-yellow text-gray-900 hover:bg-yellow-400 font-semibold py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center">
                                <span class="mr-2">üõí</span> Create Shareable Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="amway-dark py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="flex flex-col items-center justify-center mb-6">
                <p class="text-amway-yellow font-semibold mb-2">Scan to Share Presentation</p>
                <div class="bg-white p-2 rounded-lg">
                    <img src="https://i.ibb.co/ksp5Jstg/frame.png alt="QR Code to Presentation" class="w-32 h-32">
                </div>
            </div>
            <p class="text-gray-300 mb-2">PASE Presentations - Supporting Anabolism Presentation Tool</p>
            <p class="text-gray-400 text-sm">Designed for Amway Independent Business Owners</p>
        </div>
    </footer>

    <script>
        // IIFE pattern to avoid global scope pollution
        (function() {
            'use strict';
            
            // Configuration
            const CONFIG = {
                // Allow injection of secrets via window.PASE_ENV if available (e.g. from a secure build pipeline)
                // Fallback default key is constructed to avoid plain text search
                // This approach allows external configuration while maintaining obfuscation
                ENCRYPTION_KEY: (window.PASE_ENV && window.PASE_ENV.ENCRYPTION_KEY) ||
                               (window.PASE_CONFIG && window.PASE_CONFIG.ENCRYPTION_KEY) ||
                               ('PASE' + '_PRESENTATION' + '_SECURE' + '_KEY_2025'),
                GEMINI_API_URL: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent'
            };
            
            // Initialize charts when DOM is loaded
            document.addEventListener('DOMContentLoaded', function() {
                initializeCharts();
                setupEventListeners();
                loadStoredApiKey();
            });
            
            /**
             * Initializes the Chart.js visualizations for the application.
             * Specifically sets up the Anabolism/Catabolism balance doughnut chart.
             *
             * This function:
             * 1. Gets the canvas context
             * 2. Defines initial data and styling (colors matching the theme)
             * 3. Configures chart options including responsiveness and legend
             * 4. Creates the Chart instance
             * 5. Stores the instance globally for updates via event handlers
             */
            function initializeCharts() {
                // Anabolism balance chart
                const ctx = document.getElementById('anabolismChart').getContext('2d');
                
                // Initial data for the chart
                const chartData = {
                    labels: ['Anabolism Building', 'Catabolism Breaking', 'Optimal Balance'],
                    datasets: [{
                        data: [35, 30],
                        backgroundColor: [
                            '#3B82F6', // Blue for building
                            '#EF4444', // Red for breaking
                            '#10B981'  // Green for balance
                        ],
                        borderWidth: 0
                    }]
                };
                
                // Create the chart instance
                const anabolismChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#ffffff',
                                    font: {
                                        size: 12
                                    }
                                }
                            }
                        }
                    }
                });
                
                // Store chart instance globally for access by event handlers
                window.anabolismChart = anabolismChart;
            }
            
            // Function to update the chart with new data
            function updateChart(anabolism, catabolism, balance) {
                if (window.anabolismChart) {
                    // Update the chart data
                    window.anabolismChart.data.datasets[0].data = [anabolism, catabolism, balance];
                    window.anabolismChart.update();
                }
            }
            
            function setupEventListeners() {
                // QR Code Modal Logic
                const headerQrCode = document.getElementById('headerQrCode');
                const qrModal = document.getElementById('qrModal');
                const qrModalContent = document.getElementById('qrModalContent');

                if (headerQrCode && qrModal) {
                    headerQrCode.addEventListener('click', function(e) {
                        e.stopPropagation(); // Prevent immediate closing
                        // Clone the SVG content to the modal
                        qrModalContent.innerHTML = headerQrCode.innerHTML;
                        // Adjust SVG size in modal
                        const svg = qrModalContent.querySelector('svg');
                        if (svg) {
                            svg.setAttribute('width', '100%');
                            svg.setAttribute('height', '100%');
                            svg.style.maxWidth = '80vh'; // Limit size based on viewport height
                            svg.style.maxHeight = '80vh';
                        }
                        qrModal.classList.add('active');
                        qrModal.setAttribute('aria-hidden', 'false');
                    });

                    // Close modal when clicking anywhere
                    window.addEventListener('click', function(e) {
                        if (qrModal.classList.contains('active')) {
                            qrModal.classList.remove('active');
                            qrModal.setAttribute('aria-hidden', 'true');
                        }
                    });
                    
                    // Close on Escape key
                    window.addEventListener('keydown', function(e) {
                        if (e.key === 'Escape' && qrModal.classList.contains('active')) {
                            qrModal.classList.remove('active');
                            qrModal.setAttribute('aria-hidden', 'true');
                        }
                    });
                }

                // Anabolism/Catabolism balance buttons
                document.getElementById('increaseAnabolism').addEventListener('click', function() {
                    // Increase anabolism, decrease catabolism, and adjust balance
                    updateChart(50, 20, 30);
                });
                
                document.getElementById('increaseCatabolism').addEventListener('click', function() {
                    // Increase catabolism, decrease anabolism, and adjust balance
                    updateChart(20, 50, 30);
                });
                
                document.getElementById('resetBalance').addEventListener('click', function() {
                    // Reset to balanced state
                    updateChart(35, 30, 35);
                });
                
                // Save API key button
                document.getElementById('saveApiKey').addEventListener('click', async function() {
                    const apiKeyInput = document.getElementById('apiKeyInput');
                    const apiKey = apiKeyInput.value.trim();
                    
                    // Input validation for API key
                    if (!apiKey) {
                        alert('Please enter a valid API key');
                        return;
                    }
                    
                    // Input validation for API key with additional security measures
                    // Sanitize the input to prevent injection attacks
                    const sanitizedApiKey = apiKey.replace(/[^a-zA-Z0-9_-]/g, '');
                    
                    // Validate the API key format
                    const apiKeyRegex = /^AIza[0-9A-Za-z_-]{33}$/;
                    if (!apiKeyRegex.test(sanitizedApiKey)) {
                        alert('Invalid API key format. Google Gemini API keys should start with "AIza" followed by 33 characters.');
                        return;
                    }
                    
                    // Additional security check: verify that the sanitized key matches the original
                    // to ensure no malicious characters were stripped out
                    if (sanitizedApiKey !== apiKey) {
                        alert('API key contains invalid characters and has been rejected for security reasons.');
                        return;
                    }
                    
                    // Encrypt the API key before storing
                    const encryptedKey = await encryptApiKey(apiKey);
                    if (encryptedKey) {
                        // Additional security: Store in localStorage with additional obfuscation
                        // Check if we're in a secure context (HTTPS) before storing
                        const isSecureContext = window.isSecureContext;
                        
                        if (!isSecureContext) {
                            alert('Warning: API key is being stored in an insecure context (HTTP). For production, use HTTPS.');
                        }
                        
                        // Store with an obfuscated key name to make it harder to identify
                        const obfuscatedKey = 'g' + 'e' + 'm' + 'i' + 'n' + 'i' + '_' + 'a' + 'p' + 'i' + '_' + 'k' + 'e' + 'y';
                        localStorage.setItem(obfuscatedKey, encryptedKey);
                        
                        alert('API key saved successfully!');
                    } else {
                        alert('Error encrypting API key. Please try again.');
                    }
                });
                
                // Recipe Generator Button
                const generateRecipeBtn = document.getElementById('generateRecipeBtn');
                if (generateRecipeBtn) {
                    generateRecipeBtn.addEventListener('click', function() {
                        const ingredients = document.getElementById('recipeIngredients').value.trim();
                        const type = document.getElementById('recipeType').value;
                        
                        if (!ingredients) {
                            alert('Please enter available ingredients');
                            return;
                        }
                        
                        const prompt = `Create a high-protein ${type} recipe using XS Whey Protein and these ingredients: ${ingredients}. Include macros if possible. Keep it brief and easy to follow.`;
                        callGemini(prompt, 'recipeResult', 'recipeContent');
                    });
                }
                
                // Sales Pitch Generator Button
                const generatePitchBtn = document.getElementById('generatePitchBtn');
                if (generatePitchBtn) {
                    generatePitchBtn.addEventListener('click', function() {
                        const description = document.getElementById('customerDesc').value.trim();
                        const focus = document.getElementById('pitchFocus').value;
                        
                        if (!description) {
                            alert('Please enter a customer description');
                            return;
                        }
                        
                        let focusText = '';
                        switch(focus) {
                            case 'benefits': focusText = 'highlighting key product benefits'; break;
                            case 'objections': focusText = 'addressing potential objections'; break;
                            case 'closing': focusText = 'focusing on closing the sale'; break;
                            case 'science': focusText = 'explaining the science simply'; break;
                        }
                        
                        const prompt = `Act as an expert Amway sales mentor. Generate a short, effective sales pitch for XS Whey Protein and Nutrilite Magnesium for a customer who is: "${description}". Focus on ${focusText}. Keep it conversational and under 150 words.`;
                        callGemini(prompt, 'pitchResult', 'pitchContent');
                    });
                }
                
                // Persona Selector Logic
                const personaBtns = document.querySelectorAll('.persona-btn');
                const personaContent = document.getElementById('personaContent');
                
                const personaScripts = {
                    'athlete': {
                        questions: [
                            "How is your current recovery after workouts?",
                            "Are you hitting your daily protein targets?",
                            "Do you struggle with muscle soreness or sleep?"
                        ],
                        points: [
                            "XS Whey provides 30g of fast-absorbing protein for immediate recovery.",
                            "Magnesium supports muscle relaxation and better sleep for growth.",
                            "NSF Certified for Sport ensures clean, safe ingredients."
                        ]
                    },
                    'weight-loss': {
                        questions: [
                            "Are you looking for a low-calorie way to stay full?",
                            "Do you crave sweets in the evening?",
                            "How is your energy level during workouts?"
                        ],
                        points: [
                            "XS Whey is low in sugar/fat but high in satiety to curb cravings.",
                            "Protein helps maintain lean muscle which burns more calories at rest.",
                            "Magnesium supports energy metabolism without stimulants."
                        ]
                    },
                    'busy-pro': {
                        questions: [
                            "Do you often skip meals due to time?",
                            "Is stress affecting your sleep quality?",
                            "Do you need a quick, healthy option on the go?"
                        ],
                        points: [
                            "XS Whey is a perfect quick breakfast or snack in seconds.",
                            "Magnesium helps manage stress and improves sleep efficiency.",
                            "Convenient nutrition that fits a busy lifestyle."
                        ]
                    },
                    'healthy-aging': {
                        questions: [
                            "Are you concerned about maintaining muscle mass?",
                            "Do you want to support bone and heart health?",
                            "Is sleep becoming more difficult?"
                        ],
                        points: [
                            "Protein is crucial for preventing age-related muscle loss (sarcopenia).",
                            "Magnesium supports heart health, bone density, and sleep.",
                            "Easy to digest formula that's gentle on the stomach."
                        ]
                    }
                };
                
                personaBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        // Update active state
                        personaBtns.forEach(b => b.classList.remove('active', 'bg-gray-600'));
                        personaBtns.forEach(b => b.classList.add('bg-gray-700'));
                        this.classList.remove('bg-gray-700');
                        this.classList.add('active', 'bg-gray-600');
                        
                        const persona = this.getAttribute('data-persona');
                        const data = personaScripts[persona];
                        
                        if (data) {
                            // Update content with animation
                            personaContent.style.opacity = '0';
                            setTimeout(() => {
                                let questionsHtml = '';
                                data.questions.forEach(q => questionsHtml += `<li>"${q}"</li>`);
                                
                                let pointsHtml = '';
                                data.points.forEach(p => pointsHtml += `<li>"${p}"</li>`);
                                
                                personaContent.innerHTML = `
                                    <div class="grid md:grid-cols-2 gap-8">
                                        <div>
                                            <h4 class="text-lg font-semibold amway-magenta mb-3">Qualifying Questions</h4>
                                            <ul class="space-y-2 text-gray-300 text-sm list-disc pl-5">
                                                ${questionsHtml}
                                            </ul>
                                        </div>
                                        <div>
                                            <h4 class="text-lg font-semibold amway-magenta mb-3">Key Talking Points</h4>
                                            <ul class="space-y-2 text-gray-300 text-sm list-disc pl-5">
                                                ${pointsHtml}
                                            </ul>
                                        </div>
                                    </div>
                                `;
                                personaContent.style.opacity = '1';
                            }, 200);
                        }
                    });
                });
                
                // Smooth scrolling for navigation links
                document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });
                // Protein Calculator
                const calculateBtn = document.getElementById('calculateProtein');
                if (calculateBtn) {
                    calculateBtn.addEventListener('click', function() {
                        const weight = parseFloat(document.getElementById('bodyWeight').value);
                        const activity = parseFloat(document.getElementById('activityLevel').value);
                        
                        if (weight && weight > 0) {
                            // Convert lbs to kg
                            const weightKg = weight * 0.453592;
                            // Calculate protein needs
                            const proteinNeeds = Math.round(weightKg * activity);
                            
                            document.getElementById('proteinAmount').textContent = proteinNeeds;
                            document.getElementById('proteinResult').classList.remove('hidden');
                        } else {
                            alert('Please enter a valid body weight');
                        }
                    });
                }
                
                // Body Composition Visualization
                const muscleSlider = document.getElementById('muscleSlider');
                const fatSlider = document.getElementById('fatSlider');
                const recompSlider = document.getElementById('recompSlider');
                const resetCompBtn = document.getElementById('resetComposition');
                
                if (muscleSlider && fatSlider && recompSlider) {
                    function updateComposition() {
                        const muscle = muscleSlider.value;
                        const fat = fatSlider.value;
                        const recomp = recompSlider.value;
                        
                        document.getElementById('muscleValue').textContent = muscle + '%';
                        document.getElementById('fatValue').textContent = fat + '%';
                        
                        let recompText = 'Normal';
                        if (recomp < 30) recompText = 'Cutting';
                        else if (recomp > 70) recompText = 'Bulking';
                        else recompText = 'Recomp';
                        
                        document.getElementById('recompValue').textContent = recompText;
                        document.getElementById('compositionText').textContent = `${muscle}% Muscle, ${fat}% Fat (${recompText} Phase)`;
                        
                        // Update SVG visualization
                        const muscleCircle = document.getElementById('muscleCircle');
                        const fatCircle = document.getElementById('fatCircle');
                        const recompCenter = document.getElementById('recompCenter');
                        
                        // Scale circles based on values
                        muscleCircle.setAttribute('r', 20 + (muscle * 1.0));
                        fatCircle.setAttribute('r', 40 + (fat * 1.5));
                        
                        // Change color based on recomp phase
                        if (recomp < 30) {
                            recompCenter.setAttribute('fill', '#EF4444'); // Red for cutting
                        } else if (recomp > 70) {
                            recompCenter.setAttribute('fill', '#3B82F6'); // Blue for bulking
                        } else {
                            recompCenter.setAttribute('fill', '#10B981'); // Green for recomp
                        }
                    }
                    
                    muscleSlider.addEventListener('input', updateComposition);
                    fatSlider.addEventListener('input', updateComposition);
                    recompSlider.addEventListener('input', updateComposition);
                    
                    resetCompBtn.addEventListener('click', function() {
                        muscleSlider.value = 40;
                        fatSlider.value = 15;
                        recompSlider.value = 50;
                        updateComposition();
                    });
                }
            }
            
            async function loadStoredApiKey() {
                // Use the same obfuscated key name for retrieval
                const obfuscatedKey = 'g' + 'e' + 'm' + 'i' + 'n' + 'i' + '_' + 'a' + 'p' + 'i' + '_' + 'k' + 'e' + 'y';
                const encryptedStoredKey = localStorage.getItem(obfuscatedKey);
                if (encryptedStoredKey) {
                    const decryptedKey = await decryptApiKey(encryptedStoredKey);
                    if (decryptedKey) {
                        document.getElementById('apiKeyInput').value = decryptedKey;
                    }
                }
            }
            
            // More secure encryption/decryption functions for API key storage using Web Crypto API
            async function encryptApiKey(key) {
                try {
                    // Convert the API key string to bytes
                    const encoder = new TextEncoder();
                    const data = encoder.encode(key);
                    
                    // Create a random salt for this encryption
                    const salt = window.crypto.getRandomValues(new Uint8Array(16));
                    
                    // Create a key from the salt and a derived key using PBKDF2
                    const password = CONFIG.ENCRYPTION_KEY;
                    const passwordBuffer = encoder.encode(password);
                    
                    // Create a base key from the password
                    const baseKey = await window.crypto.subtle.importKey(
                        'raw',
                        passwordBuffer,
                        { name: 'PBKDF2' },
                        false,
                        ['deriveKey']
                    );
                    
                    // Derive a key using PBKDF2
                    const derivedKey = await window.crypto.subtle.deriveKey(
                        {
                            name: 'PBKDF2',
                            salt: salt,
                            iterations: 10000,
                            hash: 'SHA-256'
                        },
                        baseKey,
                        { name: 'AES-GCM', length: 256 },
                        false,
                        ['encrypt']
                    );
                    
                    // Encrypt the data
                    const iv = window.crypto.getRandomValues(new Uint8Array(12)); // Initialization vector
                    const encrypted = await window.crypto.subtle.encrypt(
                        { name: 'AES-GCM', iv: iv },
                        derivedKey,
                        data
                    );
                    
                    // Combine salt, iv, and encrypted data
                    const combined = new Uint8Array(salt.length + iv.length + encrypted.byteLength);
                    combined.set(salt, 0);
                    combined.set(iv, salt.length);
                    combined.set(new Uint8Array(encrypted), salt.length + iv.length);
                    
                    // Convert to base64 for storage
                    return btoa(String.fromCharCode(...combined));
                } catch (e) {
                    console.error('Error encrypting API key:', e);
                    return null;
                }
            }
            
            async function decryptApiKey(encryptedKey) {
                try {
                    // Convert from base64
                    const combined = new Uint8Array(atob(encryptedKey).split('').map(c => c.charCodeAt(0)));
                    
                    // Extract salt, iv, and encrypted data
                    const salt = combined.slice(0, 16);
                    const iv = combined.slice(16, 28);
                    const encryptedData = combined.slice(28);
                    
                    // Create the password and derive the key
                    const encoder = new TextEncoder();
                    const password = CONFIG.ENCRYPTION_KEY;
                    const passwordBuffer = encoder.encode(password);
                    
                    const baseKey = await window.crypto.subtle.importKey(
                        'raw',
                        passwordBuffer,
                        { name: 'PBKDF2' },
                        false,
                        ['deriveKey']
                    );
                    
                    const derivedKey = await window.crypto.subtle.deriveKey(
                        {
                            name: 'PBKDF2',
                            salt: salt,
                            iterations: 100000,
                            hash: 'SHA-256'
                        },
                        baseKey,
                        { name: 'AES-GCM', length: 256 },
                        false,
                        ['decrypt']
                    );
                    
                    // Decrypt the data
                    const decrypted = await window.crypto.subtle.decrypt(
                        { name: 'AES-GCM', iv: iv },
                        derivedKey,
                        encryptedData
                    );
                    
                    // Convert back to string
                    const decoder = new TextDecoder();
                    return decoder.decode(decrypted);
                } catch (e) {
                    console.error('Error decrypting API key:', e);
                    return null;
                }
            }
            
            // Rate limiting variables
            let lastApiCallTime = 0;
            const API_COOLDOWN_MS = 5000; // 5 seconds cooldown between calls

            // Generic function to call Gemini API
            async function callGemini(prompt, resultElementId, contentElementId) {
                // Check rate limiting
                const currentTime = Date.now();
                if (currentTime - lastApiCallTime < API_COOLDOWN_MS) {
                    const remainingTime = Math.ceil((API_COOLDOWN_MS - (currentTime - lastApiCallTime)) / 1000);
                    alert(`Please wait ${remainingTime} seconds before making another request.`);
                    return;
                }

                // Use the same obfuscated key name for retrieval
                const obfuscatedKey = 'g' + 'e' + 'm' + 'i' + 'n' + 'i' + '_' + 'a' + 'p' + 'i' + '_' + 'k' + 'e' + 'y';
                const encryptedApiKey = localStorage.getItem(obfuscatedKey);
                
                if (!encryptedApiKey) {
                    alert('Please enter and save your Google Gemini API key first');
                    return;
                }
                
                // Decrypt the API key
                const apiKey = await decryptApiKey(encryptedApiKey);
                if (!apiKey) {
                    alert('Error: Could not decrypt API key. Please re-enter your API key.');
                    return;
                }
                
                const resultDiv = document.getElementById(resultElementId);
                const contentDiv = document.getElementById(contentElementId);
                
                try {
                    // Update last API call time
                    lastApiCallTime = Date.now();

                    // Show loading state
                    contentDiv.textContent = 'Generating response...';
                    resultDiv.classList.remove('hidden');
                    
                    // Call Gemini API
                    const apiResponse = await fetch(`${CONFIG.GEMINI_API_URL}?key=${apiKey}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{
                                    text: prompt
                                }]
                            }]
                        })
                    });
                    
                    if (!apiResponse.ok) {
                        const errorData = await apiResponse.json().catch(() => ({}));
                        throw new Error(`API request failed: ${errorData.error?.message || apiResponse.statusText}`);
                    }
                    
                    const data = await apiResponse.json();
                    const aiText = data.candidates?.[0]?.content?.parts?.[0]?.text || 'No response received from AI';
                    contentDiv.textContent = aiText;
                    
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    contentDiv.textContent = `Error: ${error.message || 'Failed to get response from AI service. Please check your API key and try again.'}`;
                }
            }
            
        })();
    </script>
</body>
</html>
